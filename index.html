<!doctype html>
<html lang="en" ng-app="hotelApp">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Azure Haven — Modern Booking</title>
  <!-- Bootstrap CSS (Offline) -->
  <link rel="stylesheet" href="bootstrap-5.3.8-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  
</head>
<body ng-controller="MainCtrl as vm">
  <!-- Top navigation -->
  <nav class="navbar topbar navbar-expand-lg navbar-light bg-white border-bottom">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="#">
        <i class="fa-solid fa-hotel fa-2x" style="color:var(--accent)"></i>
        <span class="fw-bold">Azure Haven</span>
      </a>

      <div class="d-flex align-items-center ms-auto gap-3">
        <button class="btn btn-light rounded-pill">Hello Raiden!</button>

        <!-- profile avatar with dropdown -->
        <div class="dropdown position-relative">
          <button class="d-flex align-items-center gap-2 border rounded-pill p-1 ps-3 pe-2 bg-white text-decoration-none user-menu-btn" type="button" id="profileMenu" data-bs-toggle="dropdown" aria-expanded="false" onclick="toggleUserMenu()" style="border: 1px solid #ddd; cursor: pointer; transition: box-shadow 0.2s ease;">
            <i class="fa-solid fa-bars text-dark"></i>
            <img ng-src="{{vm.profile.avatar}}" class="profile-avatar" alt="profile" style="width:30px;height:30px;">
          </button>
          <ul class="dropdown-menu dropdown-menu-end menu-dropdown mt-2" id="userDropdownMenu" aria-labelledby="profileMenu" style="min-width: 240px; padding: 8px 0; display: none;">
            <li><a class="dropdown-item menu-item" href="#" style="padding: 12px 16px; display: flex; align-items: center;"><i class="fa-regular fa-message me-3" style="width: 20px;"></i> Messages</a></li>
            <li><a class="dropdown-item menu-item" href="#" style="padding: 12px 16px; display: flex; align-items: center;"><i class="fa-regular fa-user me-3" style="width: 20px;"></i> Profile</a></li>
            <li><a class="dropdown-item menu-item" href="#" style="padding: 12px 16px; display: flex; align-items: center;"><i class="fa-regular fa-heart me-3" style="width: 20px;"></i> Wishlists</a></li>
            <li><hr class="dropdown-divider my-2"></li>
            <li><a class="dropdown-item menu-item" href="#" style="padding: 12px 16px; display: flex; align-items: center;"><i class="fa-solid fa-gear me-3" style="width: 20px;"></i> Account settings</a></li>
            <li><hr class="dropdown-divider my-2"></li>
            <li><a class="dropdown-item menu-item" href="#" style="padding: 12px 16px; display: flex; align-items: center;"><i class="fa-solid fa-right-from-bracket me-3" style="width: 20px;"></i> Logout</a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero area -->
  <header class="hero" style="background:linear-gradient(90deg, rgba(43,140,255,0.06), rgba(255,56,92,0.03)), url('https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=1650&q=80') center/cover no-repeat; min-height:40vh; display:flex; align-items:center;">
    <div class="container text-center">
      <h1 class="fw-bold text-white" style="text-shadow: 0 2px 8px rgba(0,0,0,0.8); font-size: 2.5rem;">Find stays for any trip</h1>
      <p class="text-white" style="text-shadow: 0 2px 6px rgba(0,0,0,0.7); font-size: 1.1rem;">Homes, rooms, and more — search easily</p>
    </div>
  </header>

  <!-- Floating search bar -->
  <div class="container search-floating">
    <div class="search-card bg-white p-3 p-md-2"> 
      <form class="row g-2 align-items-center position-relative" ng-submit="vm.searchRooms()">
        <div class="col-md-5 position-relative px-3">
          <label class="form-label small text-muted mb-1" style="font-weight:600">Where</label>
          <input type="text" class="form-control search-input" placeholder="Search destinations" ng-model="vm.search.where" ng-focus="vm.showSuggestions=true" ng-keyup="vm.updateSuggestions()">
          <div class="where-suggestions" ng-show="vm.showSuggestions">
            <div class="p-3"><small class="text-muted">Recent searches</small></div>
            <div ng-repeat="s in vm.recentSearches" class="suggest-item" ng-click="vm.chooseSuggestion(s)">
              <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width:44px;height:44px"><i class="fa-solid fa-map-location-dot text-muted"></i></div>
              <div>
                <div class="fw-bold">{{s.title}}</div>
                <small class="text-muted">{{s.subtitle}}</small>
              </div>
            </div>
            <div class="p-3"><small class="text-muted">Suggested destinations</small></div>
            <div ng-repeat="d in vm.suggestedDestinations" class="suggest-item" ng-click="vm.chooseSuggestion(d)">
              <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width:44px;height:44px"><i class="fa-solid fa-location-arrow text-muted"></i></div>
              <div>
                <div class="fw-bold">{{d.title}}</div>
                <small class="text-muted">{{d.subtitle}}</small>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-2 px-2 position-relative">
          <label class="form-label small text-muted mb-1" style="font-weight:600">Check in</label>
          <input type="text" class="form-control search-input" readonly ng-model="vm.displayCheckin" ng-click="vm.openCalendar('checkin')">
        </div>

        <div class="col-md-2 px-2 position-relative">
          <label class="form-label small text-muted mb-1" style="font-weight:600">Check out</label>
          <input type="text" class="form-control search-input" readonly ng-model="vm.displayCheckout" ng-click="vm.openCalendar('checkout')">
        </div>

        <div class="col-md-2 px-2 position-relative">
          <label class="form-label small text-muted mb-1" style="font-weight:600">Who</label>
          <input type="text" class="form-control search-input" readonly ng-model="vm.displayGuests" ng-click="vm.toggleGuests()">

          <div class="guests-popup" ng-show="vm.showGuests">
            <div class="guest-row">
              <div>
                <div class="fw-bold">Adults</div>
                <small class="text-muted">Ages 13 or above</small>
              </div>
              <div class="guest-controls">
                <button type="button" class="count-btn" ng-click="vm.changeGuests('adults', -1)" ng-disabled="vm.guests.adults<=1">-</button>
                <div>{{vm.guests.adults}}</div>
                <button type="button" class="count-btn" ng-click="vm.changeGuests('adults', 1)">+</button>
              </div>
            </div>
            <div class="guest-row">
              <div>
                <div class="fw-bold">Children</div>
                <small class="text-muted">Ages 2 – 12</small>
              </div>
              <div class="guest-controls">
                <button type="button" class="count-btn" ng-click="vm.changeGuests('children', -1)" ng-disabled="vm.guests.children<=0">-</button>
                <div>{{vm.guests.children}}</div>
                <button type="button" class="count-btn" ng-click="vm.changeGuests('children', 1)">+</button>
              </div>
            </div>
            <div class="guest-row">
              <div>
                <div class="fw-bold">Infants</div>
                <small class="text-muted">Under 2</small>
              </div>
              <div class="guest-controls">
                <button type="button" class="count-btn" ng-click="vm.changeGuests('infants', -1)" ng-disabled="vm.guests.infants<=0">-</button>
                <div>{{vm.guests.infants}}</div>
                <button type="button" class="count-btn" ng-click="vm.changeGuests('infants', 1)">+</button>
              </div>
            </div>
            <div class="guest-row">
              <div>
                <div class="fw-bold">Pets</div>
                <small class="text-muted">Bringing a service animal?</small>
              </div>
              <div class="guest-controls">
                <button type="button" class="count-btn" ng-click="vm.changeGuests('pets', -1)" ng-disabled="vm.guests.pets<=0">-</button>
                <div>{{vm.guests.pets}}</div>
                <button type="button" class="count-btn" ng-click="vm.changeGuests('pets', 1)">+</button>
              </div>
            </div>
            <div class="mt-3 text-end">
              <button class="btn btn-outline-secondary btn-sm me-2" ng-click="vm.resetGuests()">Reset</button>
              <button class="btn btn-primary btn-sm" ng-click="vm.closeGuests()">Done</button>
            </div>
          </div>
        </div>

        <div class="col-md-1 text-end px-3">
          <button type="submit" class="btn" style="background:var(--accent); color:#fff; border-radius:28px; padding:10px 18px"><i class="fa-solid fa-magnifying-glass me-2"></i>Search</button>
        </div>

        <!-- Calendar popup (two-month view) -->
        <div class="calendar-popup" ng-show="vm.showCalendar">
          <div class="calendar-month" ng-repeat="m in vm.calendarMonths">
            <div class="calendar-head">
              <div class="fw-bold">{{m.title}}</div>
              <div>
                <button class="btn btn-sm btn-light me-1" ng-click="vm.prevMonth()"><i class="fa-solid fa-chevron-left"></i></button>
                <button class="btn btn-sm btn-light" ng-click="vm.nextMonth()"><i class="fa-solid fa-chevron-right"></i></button>
              </div>
            </div>
            <div class="calendar-grid small text-muted text-center">
              <div class="fw-semibold">S</div><div class="fw-semibold">M</div><div class="fw-semibold">T</div><div class="fw-semibold">W</div><div class="fw-semibold">T</div><div class="fw-semibold">F</div><div class="fw-semibold">S</div>
              <div ng-repeat="day in m.days" ng-class="{'day':true,'disabled':!day.inMonth,'selected':day.isSelected,'in-range':day.inRange}" ng-click="vm.selectDate(day)">{{day.date.getDate()}}</div>
            </div>
          </div>
          <div style="flex:1;padding-left:8px;min-width:220px;">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <div>
                <div class="fw-bold">{{vm.displayCheckin || 'Add dates'}}</div>
                <small class="text-muted">Check in</small>
              </div>
              <div>
                <div class="fw-bold">{{vm.displayCheckout || 'Add dates'}}</div>
                <small class="text-muted">Check out</small>
              </div>
            </div>
            <div class="mt-3">
              <button class="btn btn-outline-secondary btn-sm me-2" ng-click="vm.clearDates()">Clear</button>
              <button class="btn btn-primary btn-sm" ng-click="vm.closeCalendar()">Done</button>
            </div>
          </div>
        </div>

      </form>
    </div>
  </div>

  <!-- Listings grid -->
 <!-- Popular Stays Section -->
    <main class="container mt-5" ng-controller="MainCtrl as vm">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold mb-0">Popular stays</h3>
        <div class="scroll-buttons">
        <button class="btn btn-light btn-sm me-2" ng-click="vm.scrollLeft()">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button class="btn btn-light btn-sm" ng-click="vm.scrollRight()">
            <i class="fa-solid fa-chevron-right"></i>
        </button>
        </div>
    </div>

    <div class="popular-scroll d-flex flex-nowrap overflow-auto pb-2" id="popularScroll">
        <div
        class="popular-card me-3 flex-shrink-0 bg-white shadow-sm rounded-4"
        style="width: 270px;"
        ng-repeat="stay in vm.rooms | limitTo:8"
        >
        <div class="position-relative">
            <img
            ng-src="{{stay.image}}"
            alt="{{stay.name}}"
            class="w-100 rounded-4"
            />

            <div
            class="badge bg-white text-dark position-absolute top-0 start-0 m-2 px-2 py-1 small fw-semibold shadow-sm"
            ng-if="stay.fav"
            >
            Guest favorite
            </div>

            <button
            class="heart-btn border-0 bg-transparent position-absolute top-0 end-0 m-2"
            ng-click="vm.toggleFav(stay); $event.stopPropagation();"
            >
            <i
                class="fa-heart fa-lg"
                ng-class="{'fa-solid text-danger': stay.fav, 'fa-regular': !stay.fav}"
            ></i>
            </button>
        </div>

        <div class="p-2">
            <div class="fw-semibold">{{stay.name}}</div>
            <div class="text-muted small">
            ₱{{stay.price | number:0}} for 2 nights · ★ 5.0
            </div>
        </div>
        </div>
    </div>
    </main>

    <!-- Guess Favorite -->
 
    <section class="container mt-5" ng-controller="MainCtrl as vm">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold mb-0">Guest favorites</h3>
        <div class="scroll-buttons">
        <button class="btn btn-light btn-sm me-2" ng-click="vm.scrollLeftFav()">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button class="btn btn-light btn-sm" ng-click="vm.scrollRightFav()">
            <i class="fa-solid fa-chevron-right"></i>
        </button>
        </div>
    </div>

    <div class="popular-scroll d-flex flex-nowrap overflow-auto pb-2" id="favoriteScroll">
        <div
        class="popular-card me-3 flex-shrink-0 bg-white shadow-sm rounded-4"
        style="width: 270px;"
        ng-repeat="fav in vm.rooms | filter:{fav:true} | limitTo:8"
        >
        <div class="position-relative">
            <img
            ng-src="{{fav.image}}"
            alt="{{fav.name}}"
            class="w-100 rounded-4"
            />

            <div
            class="badge bg-white text-dark position-absolute top-0 start-0 m-2 px-2 py-1 small fw-semibold shadow-sm"
            >
            Guest favorite
            </div>

            <button
            class="heart-btn border-0 bg-transparent position-absolute top-0 end-0 m-2"
            ng-click="vm.toggleFav(fav); $event.stopPropagation();"
            >
            <i
                class="fa-heart fa-lg"
                ng-class="{'fa-solid text-danger': fav.fav, 'fa-regular': !fav.fav}"
            ></i>
            </button>
        </div>

        <div class="p-2">
            <div class="fw-semibold">{{fav.name}}</div>
            <div class="text-muted small">
            ₱{{fav.price | number:0}} for 2 nights · ★ 5.0
            </div>
        </div>
        </div>
    </div>
    </section>

    


  <footer class="py-5 mt-5">
    <div class="container text-center text-muted">
      © {{vm.year}} Azure Haven — Built with ❤️
    </div>
  </footer>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.3/angular.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleUserMenu() {
      const menu = document.getElementById('userDropdownMenu');
      const isVisible = menu.style.display === 'block';
      menu.style.display = isVisible ? 'none' : 'block';
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('userDropdownMenu');
      const button = document.getElementById('profileMenu');
      if (menu && button && !button.contains(event.target) && !menu.contains(event.target)) {
        menu.style.display = 'none';
      }
    });
  </script>
  <script src="script.js"></script>
  <!-- Bootstrap JS (Offline) -->
  <script src="bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
